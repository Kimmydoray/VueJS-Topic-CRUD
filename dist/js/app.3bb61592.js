(function(){"use strict";var t={3322:function(t,e,n){var o=n(5130),i=n(6768);function r(t,e,n,o,r,u){const s=(0,i.g2)("router-view");return(0,i.uX)(),(0,i.CE)("div",null,[(0,i.bF)(s)])}var u={name:"App"},s=n(1241);const a=(0,s.A)(u,[["render",r]]);var c=a,d=n(1387),l=n(4232);const p={border:"1"},m=["onClick"],h=["onClick"],g={key:0},f={colspan:"3"},k={key:0},v={key:0},C=["onUpdate:modelValue"],b=["onClick"],T=["onClick"],L=["onClick"],y={key:1},w=["onClick"],x={style:{"margin-top":"10px"}},P=["disabled"],E=["disabled"];function A(t,e,n,r,u,s){const a=(0,i.g2)("router-link");return(0,i.uX)(),(0,i.CE)("div",null,[e[8]||(e[8]=(0,i.Lk)("h2",null,"All Topics",-1)),(0,i.bF)(a,{to:"/add"},{default:(0,i.k6)((()=>e[4]||(e[4]=[(0,i.Lk)("button",{style:{"margin-bottom":"10px"}},"Add New Topic",-1)]))),_:1}),(0,i.Lk)("table",p,[e[7]||(e[7]=(0,i.Lk)("thead",null,[(0,i.Lk)("tr",null,[(0,i.Lk)("th",null,"GUID"),(0,i.Lk)("th",null,"Name"),(0,i.Lk)("th",null,"Action")])],-1)),(0,i.Lk)("tbody",null,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(s.paginatedTopics,(t=>((0,i.uX)(),(0,i.CE)(i.FK,{key:t.guid},[(0,i.Lk)("tr",null,[(0,i.Lk)("td",null,(0,l.v_)(t.guid),1),(0,i.Lk)("td",null,(0,l.v_)(t.name),1),(0,i.Lk)("td",null,[(0,i.bF)(a,{to:"/edit/"+t.guid},{default:(0,i.k6)((()=>e[5]||(e[5]=[(0,i.eW)("Edit")]))),_:2},1032,["to"]),(0,i.Lk)("button",{onClick:e=>s.deleteTopic(t.guid),style:{background:"red",color:"white","margin-left":"10px"}}," Delete ",8,m),(0,i.Lk)("button",{onClick:e=>s.toggleComments(t.guid),style:{"margin-left":"10px"}},(0,l.v_)(u.expandedTopic===t.guid?"Hide Comments":"View Comments"),9,h)])]),u.expandedTopic===t.guid?((0,i.uX)(),(0,i.CE)("tr",g,[(0,i.Lk)("td",f,[t.comments&&t.comments.length?((0,i.uX)(),(0,i.CE)("ul",k,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(t.comments,((n,r)=>((0,i.uX)(),(0,i.CE)("li",{key:r},[(0,i.Lk)("strong",null,(0,l.v_)(n.by),1),e[6]||(e[6]=(0,i.eW)(": ")),n.isEditing?(0,i.bo)(((0,i.uX)(),(0,i.CE)("input",{key:1,"onUpdate:modelValue":t=>n.editedText=t},null,8,C)),[[o.Jo,n.editedText]]):((0,i.uX)(),(0,i.CE)("span",v,(0,l.v_)(n.comment),1)),(0,i.Lk)("em",null,"("+(0,l.v_)(n.date)+")",1),n.isEditing?((0,i.uX)(),(0,i.CE)("button",{key:3,onClick:e=>s.saveComment(t.guid,r)},"Save",8,T)):((0,i.uX)(),(0,i.CE)("button",{key:2,onClick:e=>s.editComment(t.guid,r)},"Edit",8,b)),(0,i.Lk)("button",{onClick:e=>s.deleteComment(t.guid,r),style:{"margin-left":"10px"}},"Delete",8,L)])))),128))])):((0,i.uX)(),(0,i.CE)("p",y,"No comments available.")),(0,i.Lk)("div",null,[(0,i.bo)((0,i.Lk)("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>u.newCommentText=t),placeholder:"Write a comment..."},null,512),[[o.Jo,u.newCommentText]]),(0,i.bo)((0,i.Lk)("input",{"onUpdate:modelValue":e[1]||(e[1]=t=>u.newCommentAuthor=t),placeholder:"Your name"},null,512),[[o.Jo,u.newCommentAuthor]]),(0,i.Lk)("button",{onClick:e=>s.addComment(t.guid)},"Add Comment",8,w)])])])):(0,i.Q3)("",!0)],64)))),128))])]),(0,i.Lk)("div",x,[(0,i.Lk)("button",{onClick:e[2]||(e[2]=(...t)=>s.prevPage&&s.prevPage(...t)),disabled:1===u.currentPage},"Previous",8,P),(0,i.Lk)("span",null," Page "+(0,l.v_)(u.currentPage)+" of "+(0,l.v_)(s.totalPages),1),(0,i.Lk)("button",{onClick:e[3]||(e[3]=(...t)=>s.nextPage&&s.nextPage(...t)),disabled:u.currentPage===s.totalPages},"Next",8,E)])])}n(4114),n(8111),n(2489),n(116);var N={data(){return{topics:JSON.parse(localStorage.getItem("topics"))||[],expandedTopic:null,currentPage:1,perPage:20,newCommentText:"",newCommentAuthor:""}},computed:{sortedTopics(){return[...this.topics].reverse()},totalPages(){return Math.ceil(this.sortedTopics.length/this.perPage)},paginatedTopics(){const t=(this.currentPage-1)*this.perPage;return this.sortedTopics.slice(t,t+this.perPage)}},methods:{deleteTopic(t){confirm("Are you sure you want to delete this topic?")&&(this.topics=this.topics.filter((e=>e.guid!==t)),this.saveTopics())},toggleComments(t){this.expandedTopic=this.expandedTopic===t?null:t},addComment(t){if(!this.newCommentText.trim()||!this.newCommentAuthor.trim())return void alert("Please enter both comment and author.");const e=this.topics.find((e=>e.guid===t));e&&(e.comments.push({comment:this.newCommentText,date:(new Date).toISOString(),by:this.newCommentAuthor}),this.saveTopics()),this.newCommentText="",this.newCommentAuthor=""},editComment(t,e){const n=this.topics.find((e=>e.guid===t));n&&(n.comments[e].isEditing=!0,n.comments[e].editedText=n.comments[e].comment)},saveComment(t,e){const n=this.topics.find((e=>e.guid===t));n&&(n.comments[e].comment=n.comments[e].editedText,n.comments[e].isEditing=!1,this.saveTopics())},deleteComment(t,e){if(confirm("Are you sure you want to delete this comment?")){const n=this.topics.find((e=>e.guid===t));n&&(n.comments.splice(e,1),this.saveTopics())}},saveTopics(){localStorage.setItem("topics",JSON.stringify(this.topics))},nextPage(){this.currentPage<this.totalPages&&this.currentPage++},prevPage(){this.currentPage>1&&this.currentPage--}}};const O=(0,s.A)(N,[["render",A]]);var S=O;function _(t,e,n,r,u,s){return(0,i.uX)(),(0,i.CE)("div",null,[e[3]||(e[3]=(0,i.Lk)("h2",null,"Add Topic",-1)),(0,i.Lk)("form",{onSubmit:e[1]||(e[1]=(0,o.D$)(((...t)=>s.addTopic&&s.addTopic(...t)),["prevent"]))},[(0,i.bo)((0,i.Lk)("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>u.newTopicName=t),placeholder:"Enter topic name",required:""},null,512),[[o.Jo,u.newTopicName]]),e[2]||(e[2]=(0,i.Lk)("button",{type:"submit"},"Add",-1))],32)])}var X={data(){return{newTopicName:"",topics:JSON.parse(localStorage.getItem("topics"))||[]}},methods:{addTopic(){if(!this.newTopicName.trim())return;const t={name:this.newTopicName,guid:Math.random().toString(36).substr(2,8),comments:[]};this.topics.push(t),localStorage.setItem("topics",JSON.stringify(this.topics)),this.$router.push("/")}}};const J=(0,s.A)(X,[["render",_]]);var I=J;function U(t,e,n,r,u,s){return(0,i.uX)(),(0,i.CE)("div",null,[e[3]||(e[3]=(0,i.Lk)("h2",null,"Edit Topic",-1)),(0,i.Lk)("form",{onSubmit:e[1]||(e[1]=(0,o.D$)(((...t)=>s.updateTopic&&s.updateTopic(...t)),["prevent"]))},[(0,i.bo)((0,i.Lk)("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>u.editedTopicName=t),required:""},null,512),[[o.Jo,u.editedTopicName]]),e[2]||(e[2]=(0,i.Lk)("button",{type:"submit"},"Update",-1))],32)])}var F={props:["guid"],data(){return{topics:JSON.parse(localStorage.getItem("topics"))||[],editedTopicName:""}},mounted(){console.log(this.guid);let t=this.topics.find((t=>t.guid===this.guid));t&&(this.editedTopicName=t.name)},methods:{updateTopic(){let t=this.topics.find((t=>t.guid===this.guid));t&&(t.name=this.editedTopicName,localStorage.setItem("topics",JSON.stringify(this.topics)),this.$router.push("/"))}}};const V=(0,s.A)(F,[["render",U]]);var j=V;const D=[{path:"/",component:S},{path:"/add",component:I},{path:"/edit/:guid",component:j,props:!0}],$=(0,d.aE)({history:(0,d.LA)("/"),routes:D});(0,o.Ef)(c).use($).mount("#app")}},e={};function n(o){var i=e[o];if(void 0!==i)return i.exports;var r=e[o]={exports:{}};return t[o].call(r.exports,r,r.exports,n),r.exports}n.m=t,function(){var t=[];n.O=function(e,o,i,r){if(!o){var u=1/0;for(d=0;d<t.length;d++){o=t[d][0],i=t[d][1],r=t[d][2];for(var s=!0,a=0;a<o.length;a++)(!1&r||u>=r)&&Object.keys(n.O).every((function(t){return n.O[t](o[a])}))?o.splice(a--,1):(s=!1,r<u&&(u=r));if(s){t.splice(d--,1);var c=i();void 0!==c&&(e=c)}}return e}r=r||0;for(var d=t.length;d>0&&t[d-1][2]>r;d--)t[d]=t[d-1];t[d]=[o,i,r]}}(),function(){n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,{a:e}),e}}(),function(){n.d=function(t,e){for(var o in e)n.o(e,o)&&!n.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:e[o]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={524:0};n.O.j=function(e){return 0===t[e]};var e=function(e,o){var i,r,u=o[0],s=o[1],a=o[2],c=0;if(u.some((function(e){return 0!==t[e]}))){for(i in s)n.o(s,i)&&(n.m[i]=s[i]);if(a)var d=a(n)}for(e&&e(o);c<u.length;c++)r=u[c],n.o(t,r)&&t[r]&&t[r][0](),t[r]=0;return n.O(d)},o=self["webpackChunkvue_crud_app"]=self["webpackChunkvue_crud_app"]||[];o.forEach(e.bind(null,0)),o.push=e.bind(null,o.push.bind(o))}();var o=n.O(void 0,[504],(function(){return n(3322)}));o=n.O(o)})();
//# sourceMappingURL=app.3bb61592.js.map